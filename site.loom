include Loom::Pattern::Container

pattern :uptime do |_, mods, ctx|
  _.uptime
  _.execute "echo out to stderr 1>&2"
end

pattern :fail do |_, mods, ctx|
  _.false
  _.execute "echo out 1>&2"
end


module SSH
  include Loom::Pattern::Container

  pattern :harden do |_, mods, ctx|
    _.echo "so hard for #{ctx}"
  end
end

module Users
  include Loom::Pattern::Container

  pattern :init do |*args|
    puts "initing users"
  end
end
